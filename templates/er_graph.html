{% extends "layout.html" %}
{% block content %}

<div class="mb-4 flex items-center space-x-2">
  <a href="/dashboard" 
     class="bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded flex items-center">
    <!-- Optional icon -->
    <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" stroke-width="2" 
         viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path stroke-linecap="round" stroke-linejoin="round" 
            d="M15 19l-7-7 7-7"></path>
    </svg>
    Go Back Dashboard
  </a>
 
</div>

<h2 class="text-xl font-bold mb-4">ER Graph</h2>
<div class="overflow-auto border p-2">
<pre class="mermaid">
graph TD
{% for r in relations %}
{{ r[0] }} --> {{ r[2] }}
{% endfor %}
</pre>
</div>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>
{% endblock %}
